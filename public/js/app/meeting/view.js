(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{PyOk:function(t,e,i){"use strict";i.r(e);var a=i("UPFT"),s=i("TBq+"),n=i("kogc"),o=i("OjY7"),l={extends:a.a,components:{FileUploader:o.a},data:function(){return{fields:[{key:"contact.email",label:$t("contact.props.email")},{key:"contact.name",label:$t("contact.props.name")},{key:"isModerator",label:$t("meeting.is_moderator"),tdClass:"d-none",thClass:"d-none"},{key:"isAttendee",label:$t("meeting.is_attendee"),tdClass:"d-none",thClass:"d-none"},{key:"actions",label:"",cantHide:!0,tdClass:"actions-wrapper"}],initUrl:"meetings",initSubUrl:"invitees",dataTitle:$t("meeting.meeting"),fallBackRoute:"appMeetingList",dataType:"meeting",hideFilterButton:!0,uploaderConfig:{module:"",token:"",allowedExtensions:"",maxNoOfFiles:5,uuid:uuid()}}},methods:{afterGetEntityData:function(){this.headerButtons=[],"scheduled"!==this.entity.status&&"live"!==this.entity.status||this.headerButtons.push(s.j($t("meeting.join"),"fas fa-sign-in-alt","liveMeeting","list-meeting",null,{color:"success"},{subUuid:this.uuid})),"scheduled"===this.entity.status&&this.entity.canModerate&&(this.headerButtons.push(s.i($t("meeting.cancel"),"fas fa-times",this.cancelMeeting,null,{color:"danger"})),this.headerButtons.push(s.i($t("meeting.invite"),"fas fa-paper-plane",this.triggerSendInvitation,null,{color:"primary"})),this.headerButtons.push(s.k($t("general.add"),"fas fa-plus","appMeetingInviteeAdd",null,null,{subUuid:this.uuid})),this.headerButtons.push(s.k(null,"fas fa-cog","appMeetingSingleConfig",null,null,{subUuid:this.uuid}))),this.applyPageHeader()},cancelMeeting:function(){var t=this;swtAlert.fire({title:$t("meeting.reason_for_cancellation"),input:"text",inputPlaceholder:$t("meeting.reason_for_cancellation"),showCancelButton:!0,confirmButtonText:"Proceed!",cancelButtonText:"Go Back!"}).then((function(e){e.value?(t.isLoading=!0,t.Custom({url:"/".concat(t.initUrl,"/").concat(t.uuid,"/cancel"),method:"post",data:{cancellationReason:e.value}}).then((function(e){t.entity=e.meeting,t.afterGetEntityData(),t.$toasted.success(e.message,t.$toastConfig),t.isLoading=!1})).catch((function(e){t.isLoading=!1,formUtil.handleErrors(e)}))):(e.dismiss,n.c.DismissReason.cancel)}))},sendInvitation:function(t){var e=this;formUtil.confirmAction().then((function(i){if(i.value){e.isLoading=!0;var a={};t&&(a.invitee=t),e.Custom({url:"/".concat(e.initUrl,"/").concat(e.uuid,"/invitation"),method:"post",data:a}).then((function(t){e.$toasted.success(t.message,e.$toastConfig.success),e.isLoading=!1})).catch((function(t){e.isLoading=!1,formUtil.handleErrors(t)}))}else i.dismiss,n.c.DismissReason.cancel}))},triggerSendInvitation:function(){this.sendInvitation()},toggleModerator:function(t){var e=this;this.isLoading=!0;var i={};t&&(i.invitee=t),this.Custom({url:"/".concat(this.initUrl,"/").concat(this.uuid,"/moderator"),method:"post",data:i}).then((function(t){e.isLoading=!1,e.$nextTick((function(){e.refreshTable()}))})).catch((function(t){e.isLoading=!1,formUtil.handleErrors(t)}))}},mounted:function(){this.getEntityData()}},r=i("KHd+"),c=Object(r.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 col-md-4"},[i("base-container",{attrs:{boxed:"","with-loader":"","min-height":"full","has-footer":"","is-loading":t.isLoading,"loader-color":t.vars.loaderColor,id:"printable"}},[t.entity?[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 mb-3"},[i("view-single",{attrs:{label:t.$t("meeting.props.title"),value:t.entity.title,tag:"h5","data-classes":"font-weight-600"}})],1),t._v(" "),i("div",{staticClass:"col-12 mb-3"},[i("view-single",{attrs:{label:t.$t("meeting.props.type")},scopedSlots:t._u([{key:"main",fn:function(){return[t.entity.type?i("badge",{staticClass:"mb-0",attrs:{type:"default"}},[t._v(t._s(t.entity.type.name))]):t._e()]},proxy:!0}],null,!1,380638162)})],1),t._v(" "),i("div",{staticClass:"col-12 mb-3"},[i("view-single",{attrs:{label:t.$t("meeting.meeting_category.category")},scopedSlots:t._u([{key:"main",fn:function(){return[t.entity.category?i("badge",{staticClass:"mb-0",attrs:{type:"dark"}},[t._v(t._s(t.entity.category.name))]):t._e()]},proxy:!0}],null,!1,52913093)})],1),t._v(" "),i("div",{staticClass:"col-12 mb-3"},[i("view-single",{attrs:{label:t.$t("meeting.props.status")},scopedSlots:t._u([{key:"main",fn:function(){return[i("badge",{attrs:{rounded:"",type:t.vars.colorsForStatus["meeting-"+t.entity.status]}},[t._v(t._s(t.entity.status))])]},proxy:!0}],null,!1,582220808)})],1),t._v(" "),t.entity&&"cancelled"===t.entity.status?i("div",{staticClass:"col-12 mb-3"},[i("view-single",{attrs:{label:t.$t("meeting.props.cancellation_reason"),value:t.entity.cancellationReason}})],1):t._e(),t._v(" "),i("div",{staticClass:"col-12 mb-3"},[i("view-date",{attrs:{label:t.$t("meeting.props.start_date_time"),value:t.entity.startDateTime,"to-format":t.vars.defaultDateTimeFormat}})],1),t._v(" "),i("div",{staticClass:"col-12 mb-3"},[i("view-single",{attrs:{label:t.$t("meeting.props.estimated_period"),value:t.entity.period}})],1),t._v(" "),i("div",{staticClass:"col-12 mb-3"},[i("view-single",{attrs:{label:t.$t("meeting.config.enable_comments")},scopedSlots:t._u([{key:"main",fn:function(){return[t.entity.config.enableComments?i("badge",{attrs:{rounded:"",type:"primary"}},[i("i",{staticClass:"far fa-check-circle"}),t._v(" "+t._s(t.$t("general.yes")))]):i("badge",{attrs:{rounded:"",type:"dark"}},[i("i",{staticClass:"far fa-circle"}),t._v(" "+t._s(t.$t("general.no")))])]},proxy:!0}],null,!1,3945971519)})],1),t._v(" "),t.entity.config.enableComments?i("div",{staticClass:"col-12 mb-3"},[i("view-single",{attrs:{label:t.$t("meeting.config.private_comments")},scopedSlots:t._u([{key:"main",fn:function(){return[t.entity.config.privateComments?i("badge",{attrs:{rounded:"",type:"primary"}},[i("i",{staticClass:"far fa-check-circle"}),t._v(" "+t._s(t.$t("general.yes")))]):i("badge",{attrs:{rounded:"",type:"dark"}},[i("i",{staticClass:"far fa-circle"}),t._v(" "+t._s(t.$t("general.no")))])]},proxy:!0}],null,!1,1982958355)})],1):t._e(),t._v(" "),i("div",{staticClass:"col-12 mb-3"},[i("view-paragraph",{staticClass:"mb-4",attrs:{label:t.$t("meeting.props.agenda"),value:t.entity.agenda}})],1)])]:t._e(),t._v(" "),i("div",{staticClass:"form-footer mt-3"},[i("div",{staticClass:"left-side"},[i("base-button",{attrs:{type:"button",design:"light",tabindex:"-1"},on:{click:function(e){return t.$router.back()}}},[i("i",{staticClass:"fas fa-chevron-left"}),t._v(" "+t._s(t.$t("general.back")))])],1),t._v(" "),i("div",{staticClass:"right-side"},[t.entity&&"scheduled"===t.entity.status&&(t.hasPermission("edit-meeting")||t.entity.canModerate)?i("base-button",{attrs:{type:"button",design:"primary"},on:{click:function(e){return e.stopPropagation(),t.$router.push({name:"appMeetingEdit",params:{uuid:t.entity.uuid}})}}},[i("i",{staticClass:"fas fa-edit"}),t._v(" "+t._s(t.$t("global.edit",{attribute:t.$t("meeting.meeting")})))]):t._e()],1)])],2)],1),t._v(" "),t.entity?[t.entity.canModerate?i("div",{staticClass:"col-12 col-md-8"},[i("base-container",{staticClass:"p-0",attrs:{boxed:"","with-loader":"","min-height":"full","is-loading":t.isLoading,"loader-color":t.vars.loaderColor}},[t.isInitialized?i("table-wrapper",{attrs:{meta:t.entities.meta,"add-button-route":"scheduled"===t.entity.status&&t.entity.canModerate?"appMeetingInviteeAdd":"","add-button-params":{subUuid:t.uuid},"add-button-permissions":["create-meeting"],"entity-title":"meeting.invitee.invitee","entities-title":"meeting.invitee.invitees","entity-description":"meeting.invitee.module_description","small-footer":""}},[i("b-table",{directives:[{name:"show",rawName:"v-show",value:t.entities.meta.total,expression:"entities.meta.total"}],ref:"btable",attrs:{items:t.itemsProvider,fields:t.fields,busy:t.isLoading,hover:"",striped:"",stacked:"sm","per-page":t.entities.meta.perPage,"current-page":t.entities.meta.currentPage,filters:null},on:{"update:busy":function(e){t.isLoading=e}},scopedSlots:t._u([{key:"cell(isModerator)",fn:function(t){return[t.item.isModerator?i("span",{staticClass:"text-success"},[i("i",{staticClass:"fas fa-check-circle"})]):i("span",{staticClass:"text-light"},[i("i",{staticClass:"far fa-circle"})])]}},{key:"cell(isAttendee)",fn:function(t){return[t.item.isAttendee?i("span",{staticClass:"text-success"},[i("i",{staticClass:"fas fa-check-circle"})]):i("span",{staticClass:"text-light"},[i("i",{staticClass:"far fa-circle"})])]}},{key:"cell(actions)",fn:function(e){return["scheduled"===t.entity.status?i("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Actions Buttons"}},[t.hasPermission("create-meeting")?i("base-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],attrs:{type:"button",size:"sm",design:"dark",title:t.$t("global.toggle",{attribute:t.$t("meeting.moderator")})},on:{click:function(i){return i.stopPropagation(),t.toggleModerator(e.item)}}},[e.item.isModerator?i("i",{staticClass:"fas fa-times-circle"}):i("i",{staticClass:"fas fa-check-circle"})]):t._e(),t._v(" "),t.hasPermission("create-meeting")?i("base-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],attrs:{type:"button",size:"sm",design:"dark",title:t.$t("global.delete",{attribute:t.$t("meeting.invitee.invitee")})},on:{click:function(i){return i.stopPropagation(),t.deleteEntity(e.item)}}},[i("i",{staticClass:"fas fa-trash"})]):t._e(),t._v(" "),t.entity.canModerate?i("base-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],attrs:{type:"button",size:"sm",design:"dark",title:t.$t("meeting.send_invitation")},on:{click:function(i){return i.stopPropagation(),t.sendInvitation(e.item)}}},[i("i",{staticClass:"fas fa-paper-plane"})]):t._e()],1):t._e()]}}],null,!1,2209151290)})],1):t._e()],1)],1):t._e(),t._v(" "),i("div",{class:["col-12",{"col-md-8":!t.entity.canModerate},{"mt-element":t.entity.canModerate}]},[i("base-container",{attrs:{boxed:""}},[i("view-paragraph",{attrs:{label:t.$t("meeting.props.description"),value:t.entity.description,html:""}})],1)],1),t._v(" "),t.entity&&"scheduled"===t.entity.status&&(t.hasPermission("edit-meeting")||t.entity.canModerate)?i("div",{staticClass:"col-12 mt-element"},[i("base-container",{attrs:{boxed:""}},[i("file-uploader",{attrs:{url:"/"+this.initUrl+"/"+this.uuid+"/media","name-label":"upload.attachment","names-label":"upload.attachments",options:t.uploaderConfig,data:t.entity.attachments,"button-wrapper-classes":"justify-content-between","heading-classes":"text-muted mb-0",heading:t.$t("upload.attachments")}})],1)],1):t.entity&&t.entity.attachments&&t.entity.attachments.length?i("div",{staticClass:"col-12 mt-element"},[i("base-container",{attrs:{boxed:""}},[i("view-uploads",{staticClass:"mt-3",attrs:{label:t.$t("upload.attachments"),"name-label":t.$t("upload.attachment"),value:t.entity.attachments,"url-prefix":"/meetings/"+t.uuid+"/downloads"}})],1)],1):t._e()]:t._e()],2)}),[],!1,null,null,null);e.default=c.exports}}]);
//# sourceMappingURL=view.js.map?id=a23169d7ed8b10fb9f92