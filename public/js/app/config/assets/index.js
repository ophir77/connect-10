(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{CL1i:function(e,t,o){(e.exports=o("I1BE")(!1)).push([e.i,".progress-ring-wrapper {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(255, 255, 255, 0.7);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-bottom: 2.5rem;\n}",""])},ICll:function(e,t,o){"use strict";o.d(t,"d",(function(){return i})),o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return s})),o.d(t,"a",(function(){return n}));var a=o("5TL6");function i(e,t){return Object(a.a)({url:e.url,method:"post",data:e.data,upload:!0,config:{headers:{"Content-Type":"multipart/form-data"}},headers:{"Content-Type":"multipart/form-data; charset=utf-8; boundary="+Math.random().toString().substr(2)},onUploadProgress:t})}function r(e){return Object(a.a)({url:e.url,method:"delete",data:e.data})}function s(e,t,o){return Object(a.a)({url:e.url,method:"post",data:e.data,upload:!0,config:{headers:{"Content-Type":"multipart/form-data"}},headers:{"Content-Type":"multipart/form-data; charset=utf-8; boundary="+Math.random().toString().substr(2)},onUploadProgress:t,cancelToken:o})}function n(e){return Object(a.a)({url:e.url,method:"delete",data:e.data})}},Q7RW:function(e,t,o){"use strict";var a=o("BcCH"),i=o("ICll"),r=o("L2JU");function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function n(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){l(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var c={name:"image-uploader",props:{existingImage:{type:String,default:""},existingMedia:{type:Object,default:null},placeholder:{type:String,default:"https://via.placeholder.com/200/e1e2e4/b1b2b4/?text=Upload%20Image"},url:{type:String,required:!0},buttonColor:{type:String,default:"primary"},actionLabel:{type:String,default:"global.choose"},nameLabel:{type:String,default:"upload.image"},darkBg:{type:Boolean,default:!1},profile:{type:Boolean,default:!1},showUploadButton:{type:Boolean,default:!0},removeButton:{type:Boolean,default:!0},removeFromServer:{type:Boolean,default:!0},showProgress:{type:Boolean,default:!0},size:{type:String,default:""},fieldName:{type:String,default:"file"}},data:function(){return{isLoading:!1,imageRemoved:!1,uploadedImage:"",imageToUpload:"",actionLabelUpdated:"",files:[]}},computed:n(n({},Object(r.c)("config",["configs","vars"])),{},{imageSource:function(){var e=this.imageToUpload?this.imageToUpload:this.uploadedImage?this.uploadedImage:this.existingImage?this.existingImage:"";return e||this.placeholder},computedActionLabel:function(){return this.existingImage||this.uploadedImage?"global.change":this.actionLabel},showWhileUploading:function(){return this.imageToUpload&&this.files[0]&&"uploading"===this.files[0].status}}),methods:{generateImagePreview:function(e){this.isLoading=!0;for(var t=this.$refs.file.files,o=/(\.jpg|\.jpeg|\.png|\.gif)$/i,a=0;a<t.length;a++)o.exec(t[a].name)?this.files.push({uuid:uuid(),file:t[a],status:"waiting",progress:0}):(this.isLoading=!1,this.$toasted.error(this.$t("general.file_not_supported"),this.$toastConfig.error));this.files.length?this.createImage(this.files[0].file):this.isLoading=!1},createImage:function(e){var t=this,o=new FileReader;o.onload=function(e){t.imageToUpload=e.target.result},o.readAsDataURL(e),this.isLoading=!1},cancelUpload:function(){this.files=[],this.imageToUpload=""},uploadImage:function(){var e=this,t=this.files[0];t.status="waiting";var o=new FormData;this.files[0].size>this.configs.system.postMaxSize?this.$toasted.error(this.t("general.file_too_large"),this.$toastConfig.error):(o.append(this.fieldName,this.files[0].file),t.status="uploading",i.d({url:this.url,data:o},(function(e){t.progress=Math.round(100*e.loaded/e.total)})).then((function(o){t.status="uploaded",delete t.cancel,e.$toasted.success(o.message,e.$toastConfig.success),e.imageToUpload="",e.files=[],e.uploadedImage=o.image,e.$emit("uploaded",o.image)})).catch((function(o){t.status="error",e.$emit("error",o),formUtil.handleErrors(o)})))},removeImage:function(){var e=this;this.removeFromServer?formUtil.confirmAction().then((function(t){t.value&&(e.isLoading=!0,i.b({url:e.url}).then((function(t){e.$toasted.success(t.message,e.$toastConfig.success),e.imageRemoved=!0,e.uploadedImage="",e.$emit("removed"),e.isLoading=!1})).catch((function(t){e.isLoading=!1,e.formErrors=formUtil.handleErrors(t)})))})):(this.imageRemoved=!0,this.uploadedImage="",this.$emit("removed"))},startUpload:function(){this.files.length?this.uploadImage():this.$emit("noNeed")}},mounted:function(){a.a.$off("START_UPLOAD",this.startUpload),a.a.$on("START_UPLOAD",this.startUpload),a.a.$off("CANCEL_UPLOAD",this.cancelUpload),a.a.$on("CANCEL_UPLOAD",this.cancelUpload),this.uploadButtonText=this.label},destroyed:function(){a.a.$off("START_UPLOAD",this.startUpload),a.a.$off("CANCEL_UPLOAD",this.cancelUpload)}},d=(o("fPNp"),o("KHd+")),u=Object(d.a)(c,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:["sm-uploader image-uploader",e.size]},[o("animated-loader",{attrs:{"is-loading":e.isLoading||!e.showProgress&&e.showWhileUploading,"loader-color":e.vars.loaderColor}}),e._v(" "),e.showProgress&&e.showWhileUploading?o("div",{staticClass:"progress-ring-wrapper"},[o("progress-ring",{attrs:{value:e.files[0].progress,"stroke-color":e.vars.loaderColor}})],1):e._e(),e._v(" "),e.imageSource?o("div",{class:["image-display-wrapper",{"dark-bg":e.darkBg}]},[o("div",{class:["image-display",{"image-profile":e.profile}]},[o("img",{staticClass:"img-responsive",attrs:{src:e.imageSource}})]),e._v(" "),e.imageToUpload?o("div",{staticClass:"submit-actions"},[o("base-button",{attrs:{type:"button",design:"light",size:"sm"},on:{click:e.cancelUpload}},[o("i",{staticClass:"fas fa-times"}),e._v(" "+e._s(e.$t("general.cancel")))]),e._v(" "),e.showUploadButton?o("base-button",{attrs:{type:"button",design:"success",size:"sm"},on:{click:e.uploadImage}},[o("i",{staticClass:"fas fa-arrow-circle-right"}),e._v(" "+e._s(e.$t("general.upload")))]):o("base-button",{attrs:{type:"button",design:e.buttonColor,size:"sm"}},[o("i",{staticClass:"far fa-image"}),e._v(" "+e._s(e.$t("global.change",{attribute:e.$t(e.nameLabel)})))])],1):e._e()]):e._e(),e._v(" "),e.imageToUpload?e._e():o("div",{staticClass:"image-uploader-form"},[e.existingImage&&e.removeButton?o("div",{staticClass:"existing-image-actions"},[o("base-button",{attrs:{type:"button",design:"danger",size:"sm"},on:{click:e.removeImage}},[o("i",{staticClass:"fas fa-trash"}),e._v(" "+e._s(e.$t("general.remove")))])],1):e._e(),e._v(" "),o("div",{staticClass:"file-selector"},[o("label",{class:"btn btn-"+e.buttonColor+" btn-sm"},[o("input",{ref:"file",staticClass:"selector-input",attrs:{name:"file",type:"file",id:"file",accept:"image/*"},on:{change:e.generateImagePreview}}),e._v(" "),e._m(0),e._v(" "),o("span",{staticClass:"button-label"},[e._v(e._s(e.$t(e.computedActionLabel,{attribute:e.$t(e.nameLabel)})))])])])])],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"button-icon"},[t("i",{staticClass:"fas fa-upload"})])}],!1,null,null,null);t.a=u.exports},Xnjp:function(e,t,o){"use strict";o.r(t);var a=o("Q7RW"),i=o("L2JU");function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var l={components:{ImageUploader:a.a},data:function(){return{logo:"",logoLight:"",icon:"",favicon:"",isLoading:!1}},computed:s({},Object(i.c)("config",["configs","vars"])),methods:s(s({},Object(i.b)("config",["GetConfig"])),{},{handleUploadError:function(e){this.$toasted.error(e,this.$toastConfig.error)},getInitialData:function(){var e=this.configs.assets;e&&(this.logo=e.logo||"",this.logoLight=e.logoLight||"",this.icon=e.icon||"",this.favicon=e.favicon||"")},refreshConfig:function(){var e=this;this.isLoading=!0,this.GetConfig().then((function(t){var o=e.configs.assets;o&&(e.logo=o.logo||"",e.logoLight=o.logoLight||"",e.icon=o.icon||"",e.favicon=o.favicon||""),e.isLoading=!1,e.$toasted.success(t.message,e.$toastConfig.success)})).catch((function(t){e.isLoading=!1,e.formErrors=formUtil.handleErrors(t)}))}}),mounted:function(){this.getInitialData()}},c=o("KHd+"),d=Object(c.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("base-container",{attrs:{boxed:"","with-loader":"","is-loading":e.isLoading,"loader-color":e.vars.loaderColor}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-md-6 d-flex justify-content-center mb-4"},[o("image-uploader",{attrs:{url:"/config/assets?type=logo","name-label":"config.assets.logo","existing-image":e.logo,placeholder:"https://via.placeholder.com/250x150/f1f2f4/b1b2b4/?text=Your%20Logo","remove-from-server":""},on:{uploaded:e.refreshConfig,removed:e.refreshConfig}})],1),e._v(" "),o("div",{staticClass:"col-12 col-md-6 d-flex justify-content-center mb-4"},[o("image-uploader",{attrs:{url:"/config/assets?type=logo_light","name-label":"config.assets.logo_light","existing-image":e.logoLight,placeholder:"https://via.placeholder.com/250x150/313336/f1f2f4/?text=Your%20Logo","dark-bg":"","remove-from-server":""},on:{uploaded:e.refreshConfig,removed:e.refreshConfig}})],1),e._v(" "),o("div",{staticClass:"col-12 col-md-6 d-flex justify-content-center mb-4"},[o("image-uploader",{attrs:{url:"/config/assets?type=icon","name-label":"config.assets.icon","existing-image":e.icon,placeholder:"https://via.placeholder.com/150x150/e1e2e4/b1b2b4/?text=Your%20Icon","remove-from-server":""},on:{uploaded:e.refreshConfig,removed:e.refreshConfig}})],1),e._v(" "),o("div",{staticClass:"col-12 col-md-6 d-flex justify-content-center mb-4"},[o("image-uploader",{attrs:{url:"/config/assets?type=favicon","name-label":"config.assets.favicon","existing-image":e.favicon,placeholder:"https://via.placeholder.com/150x150/e1e2e4/b1b2b4/?text=Your%20FavIcon","remove-from-server":""},on:{uploaded:e.refreshConfig,removed:e.refreshConfig}})],1)])])}),[],!1,null,null,null);t.default=d.exports},fPNp:function(e,t,o){"use strict";var a=o("oq77");o.n(a).a},oq77:function(e,t,o){var a=o("CL1i");"string"==typeof a&&(a=[[e.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(a,i);a.locals&&(e.exports=a.locals)}}]);
//# sourceMappingURL=index.js.map?id=1ee6f6375d02bd8433c8