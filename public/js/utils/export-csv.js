(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{LBS4:function(n,t,r){"use strict";r.r(t),r.d(t,"downloadFile",(function(){return j}));var e=r("o0o1"),o=r.n(e);function a(n){return"[object Array]"===Object.prototype.toString.call(n)}function c(n,t){if(!a(n))throw new Error(t)}function i(n){return Object.keys(n).map((function(t){return n[t]}))}function u(n){return Object.keys(n)}function l(n){return Object.keys(n).map((function(t){return[t,n[t]]}))}function d(n,t){var r="."+t,e=new RegExp("(\\"+t+")?$");return n.replace(/\s+/,"_").replace(e,r)}function f(n,t,r){void 0===r&&(r="download");var e=function(n,t){switch(t){case"txt":return"data:text/plain;charset=utf-8,"+encodeURIComponent(n);case"json":return"data:application/json;charset=utf-8,"+encodeURIComponent(n);case"csv":return"data:text/csv;charset=utf-8,\ufeff"+encodeURIComponent(n);case"xls":return"data:application/vnd.ms-excel;charset=utf-8,"+encodeURIComponent(n);case"xml":return"data:application/xml;charset=utf-8,"+encodeURIComponent(n);default:return""}}(n,t),o=document.createElement("a");o.href=e,o.download=r,o.setAttribute("style","visibility:hidden"),document.body.appendChild(o),o.click(),document.body.removeChild(o)}var s,p=function(n,t){var r="function"==typeof Symbol&&n[Symbol.iterator];if(!r)return n;var e,o,a=r.call(n),c=[];try{for(;(void 0===t||t-- >0)&&!(e=a.next()).done;)c.push(e.value)}catch(n){o={error:n}}finally{try{e&&!e.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return c};function v(n){return n.map(l).reduce((function(t,r,e){return r.reduce((function(t,r){var o=r[0],a=r[1],c=t[o]||Array.from({length:n.length}).map((function(n){return""}));return c[e]=("string"!=typeof a?JSON.stringify(a):a)||"",t[o]=c,t}),t)}),Object.create(null))}function m(n){return'<html>\n  <head>\n    <meta charset="UTF-8">\n  </head >\n  <body>\n    '+function(n){var t=v(n),r=u(t),e=i(t).map((function(n){return n.map((function(n){return"<td>"+n+"</td>"}))})).reduce((function(n,t){return n.map((function(n,r){return""+n+t[r]}))}));return"\n    <table>\n      <thead>\n        <tr><th><b>"+r.join("</b></th><th><b>")+"</b></th></tr>\n      </thead>\n      <tbody>\n        <tr>"+e.join("</tr>\n        <tr>")+"</tr>\n      </tbody>\n    </table>\n  "}(n)+"\n  </body>\n</html >\n"}function h(n){return'<?xml version="1.0" encoding="utf-8"?><!DOCTYPE base>\n'+function n(t,r,e,o){void 0===e&&(e="element");void 0===o&&(o=0);var c=(u=r,"555xmlHello .  world!".trim().replace(/^([0-9,;]|(xml))+/,""),u.replace(/[^_a-zA-Z 0-9:\-\.]/g,"").replace(/^([ 0-9-:\-\.]|(xml))+/i,"").replace(/ +/g,"-")),i=function(n){return Array(n+1).join(" ")}(o);var u;if(null==t)return i+"<"+c+" />";var d=a(t)?t.map((function(t){return n(t,e,e,o+2)})).join("\n"):"object"==typeof t?l(t).map((function(t){var r=p(t,2),a=r[0],c=r[1];return n(c,a,e,o+2)})).join("\n"):i+"  "+(f=t.toString(),f.replace(/([<>&])/g,(function(n,t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return""}})));var f;return i+"<"+c+">\n"+d+"\n"+i+"</"+c+">"}(n,"base")+"\n"}function y(n){var t=n.data,r=n.fileName,e=void 0===r?"download":r,o=n.exportType,a=void 0===o?"txt":o,l=n.replacer,s=void 0===l?null:l,p=n.space,y=void 0===p?4:p,x=n.processor,w=void 0===x?f:x,b=n.withBOM,j=void 0!==b&&b,g=n.delimiter,O=void 0===g?",":g,S="Can't export unknown data type "+a+".",C=function(n){try{return"string"==typeof n?JSON.parse(n):n}catch(n){throw new Error("Invalid export data. Please provide a valid JSON")}}(t),I=function(n,t,r){void 0===t&&(t=null);try{return JSON.stringify(n,t,r)}catch(n){throw new Error("Invalid export data. Please provide valid JSON object")}}(C,s,y);switch(a){case"txt":return w(I,a,d(e,"txt"));case"json":return w(I,a,d(e,"json"));case"csv":c(C,"Invalid export data. Please provide an array of object");var k=function(n,t){void 0===t&&(t=",");var r=v(n);return u(r).join(t)+"\r\n"+i(r).map((function(n){return n.map((function(n){return'"'+n.replace(/\"/g,'""')+'"'}))})).reduce((function(n,r){return n.map((function(n,e){return""+n+t+r[e]}))})).join("\r\n")}(C,O);return w(j?"\ufeff"+k:k,a,d(e,"csv"));case"xls":return c(C,"Invalid export data. Please provide an array of object"),w(m(C),a,d(e,"xls"));case"xml":return w(h(C),a,d(e,"xml"));default:throw new Error(S)}}(s=y||(y={})).types={txt:"txt",json:"json",csv:"csv",xls:"xls",xml:"xml"},s.processors={downloadFile:f};var x=y;function w(n,t,r,e,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void r(n)}i.done?t(u):Promise.resolve(u).then(e,o)}function b(n){return function(){var t=this,r=arguments;return new Promise((function(e,o){var a=n.apply(t,r);function c(n){w(a,e,o,c,i,"next",n)}function i(n){w(a,e,o,c,i,"throw",n)}c(void 0)}))}}function j(n,t){return g.apply(this,arguments)}function g(){return(g=b(o.a.mark((function n(t,r){var e,a=arguments;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=a.length>2&&void 0!==a[2]?a[2]:"download",x({data:t,fileName:e,exportType:r});case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=export-csv.js.map?id=d67bf7b85127f9e1ce58